{% extends 'IngenieriaUsuarioBundle::layout.html.twig' %}

{% block programa %}
Aplicaci√≥n WEB - [Administrador]
{% endblock %}

{% block js  %}
<script>
$( "#directores" ).css("background-color","#000");
$( "#directores img" ).css("opacity","0.4");
$( "#directores h3" ).css("opacity","0.4");
</script>
{% endblock %}

{% block content  %}
{{ parent() }}
<div class="content">
		{% block upSection  %}
			<div class = "upSection">
			<h1 class ="sectionTitle">Grupos</h2>
				<a href="{{ path('usuario_registrar_grupo') }}" class = "button"><img src="{{ asset('img/academicosBoton.png') }}"/><h4>Nuevo grupo</h4></a>
			</div>
		{% endblock  %}

		{% block downSection  %}
			<div class = "downSection">
				{% if msgerr.id == '1' %}
					<div id = "error">{{ msgerr.descripcion }}</div>	
				{% else %}
					<table class="generalTableHead">
						<tbody>
							<tr class="tableHead">
								<th width="35%"></th>
								<th width="28%"><img style="margin-left:28%;" src="{{ asset('img/idLabel.png') }}"/></th>	
								<th width="17%"></th>
								
								<th><h3><span></span></h3></th>
							</tr><!--tablehead -->
						</tbody>
					</table><!-- gnrral tableHead -->
					<div style="width: 100%; height: 750px; overflow: auto; position:relative; padding-bottom:30px;">
						<table class="generalTable">
							<tbody>
								{% set id = 1 %}
								<tr class="spacer"></tr>
								{% for grupo in listaGrupo %}
									<tr class="tableItem">
										<td id="hoverDiv">
										<td><h2>{{ id }}</h2></td>
											<td style=" width:20%"><span style="margin-left:20px; ">{{ grupo.nombre }}</span></td>
											{% if grupo.tutor %}											
											<td style=" width:20%"><span style="margin-left:20px; ">{{ grupo.tutor.nombres }}</span></td>
{% else %}
<td style=" width:20%"><span style="margin-left:20px; ">Sin asignar</span></td>
{% endif %}
											<td style="width:10%""></td>											
<td width="5%"></td>
											<td></td>
											<td>
												<div>
													<table class="opciones">
													<td>
														<a href="{{ path('usuario_actualizar_grupo', { 'id': grupo.id}) }}"><img src="{{ asset('img/editar.png') }}">
														<h3> Editar </h3>
														</a>
													</td>
													<td style ="width: 90px;">
														<a href="{{ path('usuario_eliminar_grupo', { 'id': grupo.id}) }}"><img src="{{ asset('img/editar.png') }}">
														<h3>Eliminar</h3>
														</a>
													</td>	
													</table> <!-- opciones -->
												</div>
												Ver grupo
											</td>
										</td> <!-- hoverDir -->
									</tr><!-- tableitem -->
									{% set id = id + 1 %}
									<tr class="spacer"></tr>
								{% endfor %}
								<tr class="spacer"></tr>
								<tr class="spacer"></tr>
								<tr class="spacer"></tr>
								<tr class="spacer"></tr>
								<tr class="spacer"></tr>
							</tbody>
						</table>
					</div><!-- scroll div-->					
					
				{% endif %}
			</div><!--downsection -->
		{% endblock  %}
	</div><!-- content -->

	<script>
		$( ".tableItem" ).mouseenter(function() {
				var opciones = $('.opciones', this);
				var itemPicture = $('.itemImgContainer', this);
				$(itemPicture).css("border-color","#ec1c24");

				$( opciones).animate({
					opacity: 1,
					top: "-30px",
				}, 300, function() {
				// Animation complete.
			});
			});

			$( ".tableItem" ).mouseleave(function() {
				var itemPicture = $('.itemImgContainer', this);
				var opciones = $('.opciones', this);
				$(itemPicture).css("border-color","#242021");
				$( opciones).animate({
					opacity: 0,
					top: "0px",
				}, 300, function() {
				// Animation complete.
			});
			});

	</script>
{% endblock %}
